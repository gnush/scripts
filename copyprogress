#!/bin/sh
#
# NAME
#   copyprogress
# SYNOPSYS
#   copyprogress SRC DST

FILENAME=""

if [ -d $2 ]; then
    FILENAME="/"$(basename $1)
fi

dd if=$1 | pv -p -r -s $(du -b $1) | dd of=$2$FILENAME
